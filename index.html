 <!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>¬øCu√°ndo nacer√° tu beb√©? ‚Äî Calculadora FPP</title>
<meta name="description" content="Calcula tu fecha probable de parto (FPP) en segundos: por FUR (Naegele) o ajustada por ecograf√≠a.">
<meta name="theme-color" content="#ffe8da">
<link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><rect width="64" height="64" rx="12" fill="%23ffe8f0"/><path d="M20 24c4-4 10-4 14 0 4-4 10-4 14 0 4 4 4 10 0 14L34 52 20 38c-4-4-4-10 0-14z" fill="%23f08aa7"/></svg>'>
<style>
  :root{
    --bg:#FFF7F1; --text:#2b2b2b; --muted:#6f6f6f; --line:#efdfd6;
    --pri:#30bf78; --pri-700:#289a62; --card:#ffffff;
    --pA:#ffe6ef; --pB:#e8f1ff; --pRes:#fff3dd;
    --highlight:#ffe6ef;
  }
  *{box-sizing:border-box}
  body{
    margin:0; min-height:100svh; display:flex;
    background:var(--bg); color:var(--text);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  }
  .wrap{width:100%; max-width:980px; margin:auto; padding:22px;}

  /* Header */
  header{display:grid; grid-template-columns:1fr auto; gap:18px; align-items:center; margin-bottom:14px;}
  .titlebox{min-width:0}
  .badge{display:inline-block;background:#dff7ea;border:1px solid #b9ebd0;color:#137a47;
         padding:6px 10px;border-radius:999px;font-size:.82rem}
  .bigtitle{
    margin:.35rem 0 .4rem;
    font-weight:900; line-height:1.05;
    font-size:2.3rem;
    position:relative;
    display:inline-block;
    color:#1f2b3a;
    text-shadow:1px 2px 4px rgba(0,0,0,.15);
  }
  .bigtitle::after{
    content:"";
    position:absolute;
    left:0; bottom:3px;
    width:100%; height:0.6em;
    background:var(--highlight);
    z-index:-1;
    border-radius:6px;
  }
  @media(min-width:700px){ .bigtitle{font-size:3rem;} }
  .lead{margin:.2rem 0 .9rem; color:var(--muted); font-size:1.02rem}

  .hero{
    width:120px;height:120px;border-radius:18px;background:var(--card);border:1px solid var(--line);
    display:grid;place-items:center;box-shadow:0 10px 28px rgba(0,0,0,.06)
  }
  .hero svg{width:86px;height:86px}

  /* Cards */
  .grid{display:grid;gap:16px}
  @media(min-width:900px){ .grid-2{grid-template-columns:1fr 1fr} }
  .card{background:var(--card);border:1px solid var(--line);border-radius:16px;box-shadow:0 10px 28px rgba(0,0,0,.05)}
  .in{padding:16px}
  .title{font-weight:700;margin-bottom:8px}
  .hint{font-size:.9rem;color:var(--muted);margin-top:4px}
  .cardA{background:var(--pA)}
  .cardB{background:var(--pB)}
  .cardRes{background:var(--pRes)}

  label{font-size:.9rem;color:#4b4b4b}
  input[type="date"], input[type="number"]{
    width:100%;padding:12px;border:1px solid var(--line);border-radius:12px;background:#fff;
    font-size:1rem;margin-top:6px
  }
  .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
  button{border:0;border-radius:12px;padding:12px 14px;cursor:pointer;font-weight:700}
  .btn{background:var(--pri);color:#fff} .btn:hover{background:var(--pri-700)}
  .btn-ghost{background:#f3f3f3}

  .kpis{display:grid;gap:10px;margin-top:10px}
  @media(min-width:600px){ .kpis{grid-template-columns:repeat(4,1fr)} }
  .k{background:#fff;border:1px solid var(--line);border-radius:12px;padding:12px}
  .muted{color:var(--muted);font-size:.9rem}
  footer{margin:18px 0;text-align:center}
  a{color:#246ea8;text-decoration:none}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="titlebox">
        <span class="badge">R√°pido y gratuito</span>
        <h1 class="bigtitle">¬øCu√°ndo nacer√° tu beb√©?</h1>
        <p class="lead">Calcula tu <b>Fecha Probable de Parto</b> en segundos. Por <b>FUR</b> (Naegele) o por <b>ecograf√≠a</b>.</p>
      </div>
      <div class="hero" aria-hidden="true">
        <svg viewBox="0 0 64 64" fill="none" stroke="#f08aa7" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M36 12c6 0 10 4 10 10 0 6-4 10-10 10" />
          <path d="M46 22c4 0 8 4 8 9 0 7-6 13-14 13H26" />
          <path d="M26 54c-6 0-10-5-10-11 0-5 3-9 7-10" />
          <path d="M27 38c5-5 13-3 13 4 0 5-5 8-10 6" />
          <circle cx="39" cy="42" r="1.6" fill="#f08aa7" stroke="none"/>
          <path d="M18 26c1.5-1 3 0 3 1.5 0-1.5 1.5-2.5 3-1.5 2 1.3-.2 3.8-3 5.6-2.8-1.8-5-4.3-3-5.6z" fill="#ffb3c6" stroke="none"/>
        </svg>
      </div>
    </header>

    <!-- OPCIONES -->
    <div class="grid grid-2">
      <section class="card cardA">
        <div class="in">
          <div class="title">Opci√≥n A ‚Äî FUR (√öltima regla)</div>
          <label for="fur">FUR (AAAA-MM-DD)</label>
          <input type="date" id="fur">
          <div class="row">
            <div style="flex:1 1 180px">
              <label for="ciclo">Duraci√≥n del ciclo (d√≠as)</label>
              <input type="number" id="ciclo" min="20" max="45" value="28">
              <div class="hint">Se ajusta autom√°ticamente si tu ciclo no es de 28 d√≠as.</div>
            </div>
          </div>
          <div class="row">
            <button class="btn" onclick="calcFUR()">Calcular FPP</button>
            <button class="btn-ghost" onclick="clearFUR()">Limpiar</button>
          </div>
        </div>
      </section>

      <section class="card cardB">
        <div class="in">
          <div class="title">Opci√≥n B ‚Äî Ecograf√≠a</div>
          <label for="ecoDate">Fecha de la eco (AAAA-MM-DD)</label>
          <input type="date" id="ecoDate">
          <div class="row" style="gap:12px">
            <div style="flex:1 1 120px">
              <label for="gaW">Semanas</label>
              <input type="number" id="gaW" min="0" max="45" placeholder="p.ej. 12">
            </div>
            <div style="flex:1 1 120px">
              <label for="gaD">D√≠as</label>
              <input type="number" id="gaD" min="0" max="6" placeholder="0‚Äì6">
            </div>
          </div>
          <div class="row">
            <button class="btn" onclick="calcECO()">Calcular FPP</button>
            <button class="btn-ghost" onclick="clearECO()">Limpiar</button>
          </div>
        </div>
      </section>
    </div>

    <!-- RESULTADOS -->
    <section class="card cardRes" style="margin-top:16px">
      <div class="in">
        <div class="title">Resultados y seguimiento</div>
        <div id="out" class="muted">Introduce los datos y pulsa ‚ÄúCalcular FPP‚Äù.</div>
        <div class="kpis" id="kpis" style="display:none">
          <div class="k"><b>DPP</b><div id="kpp"></div></div>
          <div class="k"><b>Ventana 38‚Äì42s</b><div id="kven"></div></div>
          <div class="k"><b>Gestaci√≥n hoy</b><div id="ksem"></div></div>
          <div class="k"><b>Hitos</b><div id="khitos"></div></div>
        </div>
        <div class="row" style="margin-top:12px">
          <button class="btn-ghost" onclick="copyRes()">Copiar resultado</button>
          <button class="btn-ghost" onclick="shareRes()">Compartir</button>
        </div>
        <p class="muted" style="margin-top:10px">La FPP es una <b>estimaci√≥n</b>. Cada embarazo es √∫nico. Ante dudas, consulta a tu profesional de salud.</p>
      </div>
    </section>

    <footer>
      <p class="muted">Hecho con cari√±o ¬∑ <a href="privacidad.html">Privacidad</a></p>
    </footer>
  </div>

<script>
  const fmt = d => d.toLocaleDateString(undefined,{year:'numeric',month:'short',day:'2-digit'});
  const addDays = (d,n)=>{const x=new Date(d); x.setDate(x.getDate()+n); return x;}
  const diffDays = (a,b)=> Math.round((a-b)/(1000*60*60*24));
  function paint(dpp, base){
    const hoy=new Date(), diasTot=280, trans=diasTot-diffDays(dpp,hoy);
    const s=Math.max(0,Math.floor(trans/7)), d=Math.max(0,trans-s*7);
    const ven38=addDays(base,38*7), ven42=addDays(base,42*7);
    const t2=addDays(base,13*7-1), t3=addDays(base,28*7);
    kpp.textContent=fmt(dpp);
    kven.textContent=`${fmt(ven38)} ‚Üí ${fmt(ven42)}`;
    ksem.textContent=`${s} semanas ${d} d√≠as`;
    khitos.textContent=`Trim2: ${fmt(t2)} ¬∑ Trim3: ${fmt(t3)}`;
    kpis.style.display=''; out.textContent='Resultado listo ‚úÖ';
    window.__res={dpp:fmt(dpp),v38:fmt(ven38),v42:fmt(ven42),semanas:s,d:d};
  }
  function calcFUR(){
    const v=fur.value, ciclo=parseInt(ciclo.value||'28',10);
    if(!v||isNaN(ciclo)){ alert('Completa FUR y duraci√≥n de ciclo'); return; }
    const furDate=new Date(v);
    const dpp=addDays(furDate,280+(ciclo-28));
    paint(dpp,addDays(dpp,-280));
  }
  function clearFUR(){ fur.value=''; ciclo.value=28; resetOut(); }
  function calcECO(){
    const ecoV=ecoDate.value,w=parseInt(gaW.value||'0',10),d=parseInt(gaD.value||'0',10);
    if(!ecoV||isNaN(w)||isNaN(d)){ alert('Completa fecha de ecograf√≠a y GA (semanas/d√≠as)'); return; }
    const eco=new Date(ecoV), gaDias=w*7+d, dpp=addDays(eco,280-gaDias);
    paint(dpp,addDays(dpp,-280));
  }
  function clearECO(){ ecoDate.value=''; gaW.value=''; gaD.value=''; resetOut(); }
  function resetOut(){ kpis.style.display='none'; out.textContent='Introduce los datos y pulsa ‚ÄúCalcular FPP‚Äù.'; window.__res=null; }
  function copyRes(){
    if(!window.__res){ alert('Calcula primero üôÇ'); return; }
    const r=window.__res, txt=`DPP: ${r.dpp} ¬∑ Ventana 38‚Äì42s: ${r.v38} ‚Äì ${r.v42} ¬∑ Gestaci√≥n: ${r.semanas}s ${r.d}d`;
    navigator.clipboard.writeText(txt).then(()=>alert('Resultado copiado ‚úÖ'));
  }
  function shareRes(){
    if(!window.__res){ alert('Calcula primero üôÇ'); return; }
    const r=window.__res, txt=`Mi DPP es ${r.dpp} (ventana ${r.v38}‚Äì${r.v42}). Calculado con la Calculadora FPP.`;
    if(navigator.share){ navigator.share({title:'Mi DPP', text:txt, url:location.href}); }
    else{ alert('Compartir no disponible en este dispositivo. Copia el resultado.'); }
  }
</script>
</body>
</html>
